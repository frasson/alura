;             
CREATE USER IF NOT EXISTS SA SALT 'a58899e178b1c1dd' HASH '8eca771f09c601bdc06dadf3d41896ae5ff9b129388f5a5e908d659dc7929c4c' ADMIN;           
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_4B5945C6_EF35_44EC_90DE_083E7B0AB2BD START WITH 6 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_37729B5D_F84C_433D_ACBD_87F883B2FB84 START WITH 12 BELONGS_TO_TABLE;   
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_E23F7B55_CE45_4239_A032_46E20611CC0C START WITH 2 BELONGS_TO_TABLE;    
CREATE CACHED TABLE PUBLIC.AUTOR(
    ID INT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_4B5945C6_EF35_44EC_90DE_083E7B0AB2BD) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_4B5945C6_EF35_44EC_90DE_083E7B0AB2BD,
    EMAIL VARCHAR(255) DEFAULT NULL,
    NOME VARCHAR(255) DEFAULT NULL
);               
ALTER TABLE PUBLIC.AUTOR ADD CONSTRAINT PUBLIC.CONSTRAINT_3 PRIMARY KEY(ID);  
-- 5 +/- SELECT COUNT(*) FROM PUBLIC.AUTOR;   
INSERT INTO PUBLIC.AUTOR(ID, EMAIL, NOME) VALUES
(1, 'sergio.lopes@caelum.com.br', 'Sergio Lopes'),
(2, 'nico.steppat@caelum.com.br', 'Nico Steppat'),
(3, 'aniche@teste.com.br', 'Mauricio Aniche'),
(4, 'flavio.almeida@caelum.com.br', 'Flavio Almeida'),
(5, 'paulo.silveira@caelum.com.br', 'Paulo Silveira');      
CREATE CACHED TABLE PUBLIC.LIVRO(
    ID INT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_37729B5D_F84C_433D_ACBD_87F883B2FB84) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_37729B5D_F84C_433D_ACBD_87F883B2FB84,
    DATALANCAMENTO DATE DEFAULT NULL,
    ISBN VARCHAR(255) DEFAULT NULL,
    PRECO DOUBLE NOT NULL,
    TITULO VARCHAR(255) DEFAULT NULL
);           
ALTER TABLE PUBLIC.LIVRO ADD CONSTRAINT PUBLIC.CONSTRAINT_4 PRIMARY KEY(ID);  
-- 8 +/- SELECT COUNT(*) FROM PUBLIC.LIVRO;   
INSERT INTO PUBLIC.LIVRO(ID, DATALANCAMENTO, ISBN, PRECO, TITULO) VALUES
(1, DATE '2016-02-26', '121-3-12-312312-3', 49.9, 'MEANA'),
(2, DATE '2016-02-27', '123-1-31-212313-1', 49.9, 'Arquitetura Java'),
(3, DATE '2016-03-01', '123-1-31-231312-3', 39.9, 'AngularJS'),
(5, DATE '2016-03-01', '124-5-55-533223-2', 39.9, 'TDD'),
(7, DATE '2016-03-01', '122-3-44-322323-2', 59.9, 'SOA'),
(9, DATE '2016-03-01', '123-1-23-131231-2', 19.9, 'Primefaces'),
(10, DATE '2016-03-01', '123-1-23-123123-1', 79.9, 'JSF2'),
(11, DATE '2016-03-01', '123-1-31-312312-3', 59.9, 'JPA');               
CREATE CACHED TABLE PUBLIC.USUARIO(
    ID INT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_E23F7B55_CE45_4239_A032_46E20611CC0C) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_E23F7B55_CE45_4239_A032_46E20611CC0C,
    EMAIL VARCHAR(255) DEFAULT NULL,
    SENHA VARCHAR(255) DEFAULT NULL
);            
ALTER TABLE PUBLIC.USUARIO ADD CONSTRAINT PUBLIC.CONSTRAINT_2 PRIMARY KEY(ID);
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.USUARIO; 
INSERT INTO PUBLIC.USUARIO(ID, EMAIL, SENHA) VALUES
(1, 'nico.steppat@caelum.com.br', '12345');              
CREATE CACHED TABLE PUBLIC.LIVRO_AUTOR(
    LIVRO_ID INT NOT NULL,
    AUTORES_ID INT NOT NULL
);          
-- 10 +/- SELECT COUNT(*) FROM PUBLIC.LIVRO_AUTOR;            
INSERT INTO PUBLIC.LIVRO_AUTOR(LIVRO_ID, AUTORES_ID) VALUES
(1, 4),
(2, 1),
(2, 2),
(2, 5),
(3, 1),
(5, 3),
(7, 2),
(9, 1),
(10, 2),
(11, 4);       
ALTER TABLE PUBLIC.LIVRO_AUTOR ADD CONSTRAINT PUBLIC.CONSTRAINT_EA FOREIGN KEY(AUTORES_ID) REFERENCES PUBLIC.AUTOR(ID) NOCHECK;               
ALTER TABLE PUBLIC.LIVRO_AUTOR ADD CONSTRAINT PUBLIC.CONSTRAINT_E FOREIGN KEY(LIVRO_ID) REFERENCES PUBLIC.LIVRO(ID) NOCHECK;  
